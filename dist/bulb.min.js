var bulb=function(){"use strict";function n(n,r){return r={exports:{}},n(r,r.exports),r.exports}function r(n){this.subscribe=n}var t={extend:function(n,r){return r.forEach(function(r){Object.getOwnPropertyNames(r).forEach(function(t){n[t]=r[t]})}),n},slice:Array.prototype.slice},e=n(function(n){function r(n){return n.reduce(function(n,r){return n.concat(r)},[])}function e(n){function r(u,i){return function(){var c=u.concat(arguments.length>0?t.slice.call(arguments,0):void 0);return c.length>=e?n.apply(this,c):r(c,i+1)}}var e=n.length;return e<=1?n:r([],0)}function u(n){var e=n.length;return e<1?n:1===e?function(){var e=t.slice.call(arguments,0),u=1===arguments.length?r(e):e;return n.call(this,u)}:function(){var r=Math.max(e-arguments.length-1,0),u=new Array(r),i=t.slice.call(arguments,0,e-1),c=t.slice.call(arguments,n.length-1);return n.apply(this,i.concat(u).concat([c]))}}var i;i=n.exports={flatten:r,apply:e(function(n,r){return n(r)}),apply2:e(function(n,r,t){return n(r,t)}),apply3:e(function(n,r,t,e){return n(r,t,e)}),applyRight:e(function(n,r){return r(n)}),compose:u(function(n){return function(r){return n.reduceRight(function(n,r){return r(n)},r)}}),flip:e(function(n,r,t){return n(t,r)}),id:function(n){return n},const:function(n){return function(){return n}},curry:e,uncurry:e(function(n,r){return n(r[0],r[1])}),unary:function(n){return 1===n.length?n:i.apply(n)},binary:function(n){return 2===n.length?n:i.apply2(n)},variadic:u,tap:e(function(n,r){return n(r),r}),equal:e(function(n,r){return r===n}),notEqual:e(function(n,r){return r!==n}),compare:e(function(n,r){return n>r?1:n<r?-1:0})}}),u=(e.flatten,e.apply,e.apply2,e.apply3,e.applyRight,e.compose,e.flip,e.id,e.curry,e.uncurry,e.unary,e.binary,e.variadic,e.tap,e.equal,e.notEqual,e.compare,n(function(n){var r;r=n.exports={isString:function(n){return"string"==typeof n},isArrayOfStrings:function(n){return Array.isArray(n)&&n.length>0&&n.reduce(function(n,t){return n&&r.isString(t)},!0)},mempty:function(n){return r.isString(n)||r.isArrayOfStrings(n)?"":[]},pure:function(n){return r.isString(n)||r.isArrayOfStrings(n)?n:[n]},toArray:function(n){return r.isString(n)?n.split(""):n},toList:function(n,r){return"string"===r?n.join(""):n},length:function(n){return n.length},empty:function(n){return 0===n.length},append:e.curry(function(n,t){return r.isString(t)?t+n:t.concat([n])}),prepend:e.curry(function(n,t){return r.isString(t)?n+t:[n].concat(t)}),surround:e.curry(function(n,t,e){return r.append(t,r.prepend(n,e))}),head:function(n){return n[0]},last:function(n){return n[n.length-1]},init:function(n){return n.slice(0,n.length-1)},tail:function(n){return n.slice(1)},inits:function n(t){return r.prepend(r.mempty(t),r.empty(t)?[]:n(r.tail(t)).map(r.prepend(r.head(t))))},tails:function n(t){return r.prepend(t,r.empty(t)?[]:n(r.tail(t)))}}})),i=(u.isString,u.isArrayOfStrings,u.mempty,u.pure,u.toArray,u.toList,u.length,u.empty,u.append,u.prepend,u.surround,u.head,u.last,u.init,u.tail,u.inits,u.tails,{add:e.curry(function(n,r){return r+n}),sub:e.curry(function(n,r){return r-n}),mul:e.curry(function(n,r){return r*n}),div:e.curry(function(n,r){return r/n}),mod:e.curry(function(n,r){return r%n}),max:e.curry(function(n,r){return r>n?r:n}),min:e.curry(function(n,r){return n>r?r:n}),negate:function(n){return-n},eq:e.equal,neq:e.notEqual,gt:e.curry(function(n,r){return r>n}),gte:e.curry(function(n,r){return r>=n}),lt:e.curry(function(n,r){return r<n}),lte:e.curry(function(n,r){return r<=n}),inc:function(n){return n+1},dec:function(n){return n-1},randomInt:e.curry(function(n,r){return Math.floor(Math.random()*(r-n+1))+n}),randomFloat:e.curry(function(n,r){return Math.random()*(r-n)+n})}),c=n(function(n){var r;r=n.exports={flattenStrings:function n(t){return u.isArrayOfStrings(t)?r.concat(t):Array.isArray(t)?t.map(n):t},concatWith:e.curry(function(n,r){return u.toArray(e.flatten(r)).reduce(e.flip(u.append),n)}),concat:e.variadic(function(n){return r.concatWith(u.mempty(n),n)}),concatMap:e.curry(function(n,t){var i=u.toArray(t).map(e.compose(r.flattenStrings,n)),c=i.length>0?i:t;return r.concatWith(u.mempty(c),i)}),fold:e.curry(function(n,r,t){return u.toArray(t).reduce(n,r)}),foldRight:e.curry(function(n,r,t){return u.toArray(t).reduceRight(e.flip(n),r)}),scan:e.curry(function(n,t,u){var i=[t];return r.fold(function(r,t){return e.tap(i.push.bind(i),n(r,t))},t,u),i}),scanRight:e.curry(function(n,t,u){var i=[t];return r.foldRight(function(r,t){return e.tap(i.unshift.bind(i),n(r,t))},t,u),i}),maximum:function(n){return r.fold(i.max,n[0],n)},minimum:function(n){return r.fold(i.min,n[0],n)},maximumBy:e.curry(function(n,t){return r.fold(function(r,t){return n(r,t)>0?r:t},t[0],t)}),minimumBy:e.curry(function(n,t){return r.fold(function(r,t){return n(r,t)<0?r:t},t[0],t)}),sum:function(n){return r.fold(i.add,0,n)},product:function(n){return r.fold(i.mul,1,n)}}}),o=(c.flattenStrings,c.concatWith,c.concat,c.concatMap,c.fold,c.foldRight,c.scan,c.scanRight,c.maximum,c.minimum,c.maximumBy,c.minimumBy,c.sum,c.product,n(function(n){var r;r=n.exports={take:e.curry(function(n,r){for(var t=u.isString(r)?"":[],e=r.length,i=0;i<Math.min(e,n);i++)t=t.concat(r[i]);return t}),drop:e.curry(function(n,r){for(var t=u.isString(r)?"":[],e=r.length,i=n;i<e;i++)t=t.concat(r[i]);return t}),takeWhile:e.curry(function(n,r){for(var t=u.isString(r)?"":[],e=r.length,i=0;i<e&&n(r[i]);i++)t=t.concat(r[i]);return t}),dropWhile:e.curry(function(n,r){for(var t=u.isString(r)?"":[],e=r.length,i=0;n(r[i])&&i<r.length;)i++;for(var c=i;c<e;c++)t=t.concat(r[c]);return t}),splitAt:e.curry(function(n,t){return[r.take(n,t),r.drop(n,t)]}),span:e.curry(function(n,t){return[r.takeWhile(n,t),r.dropWhile(n,t)]}),group:function(n){return r.groupBy(e.equal,n)},groupBy:e.curry(function n(t,e){var i=u.head(e),c=r.span(t(i),u.tail(e));return u.empty(e)?[]:u.prepend(u.prepend(i,u.head(c)),n(t,u.last(c)))})}})),a=(o.take,o.drop,o.takeWhile,o.dropWhile,o.splitAt,o.span,o.group,o.groupBy,n(function(n){var r;r=n.exports={array:function(n){return Array.apply(null,Array(n))},string:function(n){return r.array(n+1).join(" ")},pair:e.curry(function(n,r){return[n,r]}),range:e.curry(function(n,t){return r.array(t).map(function(r,t){return n+t})}),replicate:e.curry(function(n,t){var e=u.isString(t)?r.string(n):r.array(n);return c.concatMap(function(){return[t]},e)}),sample:e.curry(function(n,t){return o.take(n,r.shuffle(t))}),shuffle:function(n){var t=-1,e=r.array(n.length),o=c.fold(function(n,r){var e=i.randomInt(0,++t);return n[t]=n[e],n[e]=r,n},e,n),a=u.isString(n)?"":[];return c.concatWith(a,o)}}})),f=(a.array,a.string,a.pair,a.range,a.replicate,a.sample,a.shuffle,{map:e.curry(function(n,r){return u.toArray(r).map(n)}),reverse:function(n){return u.toArray(n).reduce(e.flip(u.prepend),u.mempty(n))},intersperse:e.curry(function(n,r){function t(r){return u.empty(r)?u.mempty(r):c.concat(n,u.head(r),t(u.tail(r)))}return u.empty(r)?u.mempty(r):c.concat(u.head(r),t(u.tail(r)))})}),p=n(function(n){var r;r=n.exports={and:e.curry(function(n,r){return r&&n}),or:e.curry(function(n,r){return r||n}),not:function(n){return!n},branch:e.curry(function(n,r,t,e){return n(e)?r(e):t(e)}),whereAll:e.curry(function(n,t){return n.map(e.applyRight(t)).reduce(r.and,!0)}),whereAny:e.curry(function(n,t){return n.map(e.applyRight(t)).reduce(r.or,!1)})}}),s=(p.and,p.or,p.not,p.branch,p.whereAll,p.whereAny,n(function(n){var r;r=n.exports={elem:e.curry(function(n,r){return r.indexOf(n)>=0}),elemIndex:e.curry(function(n,r){var t=r.indexOf(n);return t>=0?t:void 0}),elemIndices:e.curry(function(n,t){return r.findIndices(e.equal(n),t)}),find:e.curry(function(n,t){return u.head(r.filter(n,t))}),findIndex:e.curry(function(n,r){for(var t=r.length,e=0;e<t;e++)if(n(r[e]))return e}),findIndices:e.curry(function(n,r){for(var t=[],e=r.length,u=0;u<e;u++)n(r[u])&&t.push(u);return t}),filter:e.curry(function(n,r){var t=p.branch(n,e.id,e.const(""));return u.isString(r)?c.concatMap(t,r):r.filter(n)}),partition:e.curry(function(n,t){return[r.filter(n,t),r.filter(e.compose(p.not,n),t)]}),all:e.curry(function(n,t){return r.filter(n,t).length===t.length}),any:e.curry(function(n,t){return r.filter(n,t).length>0}),isPrefixOf:e.curry(function n(r,t){return!!u.empty(r)||!u.empty(t)&&(u.head(r)===u.head(t)&&n(u.tail(r),u.tail(t)))}),isSuffixOf:e.curry(function(n,t){return r.isPrefixOf(f.reverse(n),f.reverse(t))}),isInfixOf:e.curry(function(n,t){return r.any(r.isPrefixOf(n),u.tails(t))})}})),y=(s.elem,s.elemIndex,s.elemIndices,s.find,s.findIndex,s.findIndices,s.filter,s.partition,s.all,s.any,s.isPrefixOf,s.isSuffixOf,s.isInfixOf,n(function(n){var r;r=n.exports={nub:function(n){return r.nubBy(e.equal,n)},nubBy:e.curry(function n(r,t){var e=u.head(t);return u.empty(t)?u.mempty(t):u.prepend(e,n(r,s.filter(function(n){return!r(e,n)},u.tail(t))))}),union:e.curry(function(n,r){return c.fold(function(n,r){return s.elem(r,n)?n:u.append(r,n)},n,r)}),intersect:e.curry(function(n,r){return c.fold(function(n,t){return s.elem(t,r)?u.append(t,n):n},u.mempty(n),n)}),difference:e.curry(function(n,t){return c.fold(e.flip(r.remove),n,t)}),remove:e.curry(function(n,t){return r.removeBy(e.equal,n,t)}),removeBy:e.curry(function n(r,t,e){var i=u.head(e),c=u.tail(e);return u.empty(e)?u.mempty(e):r(t,i)?c:u.prepend(i,n(r,t,c))}),cartesian:e.curry(function n(r,t){return u.empty(r)?[]:c.concat(f.map(a.pair(u.head(r)),t),n(u.tail(r),t))}),subsequences:function(n){function r(n){var t=u.head(n);return u.empty(n)?[]:u.prepend(u.pure(t),c.foldRight(function(n,r){return c.concat(u.pure(n),u.pure(u.prepend(t,n)),r)},[],r(u.tail(n))))}return u.prepend(u.mempty(n),r(n))},permutations:function n(r){function t(r,i){var o=u.head(r),a=u.tail(r);return u.empty(r)?[]:c.foldRight(function(n,r){function t(n,i){if(u.empty(i))return[a,r];var f=u.head(i),p=u.tail(i),s=t(e.compose(n,u.prepend(f)),p);return[u.prepend(f,s[0]),u.prepend(n(c.concat(o,f,s[0])),s[1])]}return t(e.id,n)[1]},t(a,u.prepend(o,i)),n(i))}return u.prepend(r,t(r,[]))}}})),l=(y.nub,y.nubBy,y.union,y.intersect,y.difference,y.remove,y.removeBy,y.cartesian,y.subsequences,y.permutations,n(function(n){var r;r=n.exports={sort:function(n){return r.sortBy(e.compare,n)},sortBy:e.curry(function(n,r){var t=u.toArray(r.slice(0));return u.toList(t.sort(n),typeof r)})}})),d=(l.sort,l.sortBy,n(function(n){var r;r=n.exports={zipWith:e.curry(function(n,r,t){var e=Math.min(r.length,t.length);return u.toArray(r.slice(0,e)).map(function(r,e){return n(r,t[e])})}),zip:e.curry(function(n,t){return r.zipWith(a.pair,n,t)}),unzip:function(n){var r=u.mempty(n[0]);return n.reduceRight(function(n,r){var t=r[0],e=r[1],i=n[0],c=n[1];return[u.prepend(t,i),u.prepend(e,c)]},[r,r])}}})),m=(d.zipWith,d.zip,d.unzip,t.extend({},[u,a,c,f,s,y,l,o,d])),h=n(function(n){var r;r=n.exports={applyMethod:e.curry(function(n,r,t){return t[n](r)}),applyMethod2:e.curry(function(n,r,t,e){return e[n](r,t)}),applyMethod3:e.curry(function(n,r,t,e,u){return u[n](r,t,e)}),copy:e.variadic(function(n,r){return t.extend(new n.constructor,[n].concat(r))}),get:e.curry(function(n,r){return r[n]}),getIn:e.curry(function(n,r){return n.reduce(function(n,r){return void 0!==n?n[r]:void 0},r)}),set:e.curry(function(n,t,e){var u={};return u[n]=t,r.copy(e,u)}),update:e.curry(function(n,t,e){return r.set(n,t(r.get(n,e)),e)}),pick:e.curry(function(n,t){return n.reduce(function(n,e){return r.set(e,r.get(e,t),n)},{})}),omit:e.curry(function(n,t){return y.difference(r.keys(t),n).reduce(function(n,e){return r.set(e,r.get(e,t),n)},{})}),pairs:function(n){return Object.keys(n).map(function(t){return[t,r.get(t,n)]})},keys:function(n){return Object.keys(n)},values:function(n){return Object.keys(n).map(e.flip(r.get)(n))}}}),g=(h.applyMethod,h.applyMethod2,h.applyMethod3,h.copy,h.get,h.getIn,h.set,h.update,h.pick,h.omit,h.pairs,h.keys,h.values,{toUpper:function(n){return n.toUpperCase()},toLower:function(n){return n.toLowerCase()},replace:e.curry(function(n,r,t){return t.replace(n,r)})}),v=t.extend({},[e,m,p,i,h,g]);r.prototype.constructor=r,r.empty=function(){return new r(function(n,r,t){t&&t()})},r.of=function(n){return new r(function(r,t,e){n&&r(n),e()})},r.fromArray=function(n){return new r(function(r,t,e){n.map(v.apply(r)),e&&e()})},r.fromCallback=function(n){return new r(function(r,t,e){n(function(n,e){void 0!==n&&null!==n?t(n):r(e)})})},r.fromEvent=function(n,t){return new r(function(r,e,u){n.on?n.on(t,r):n.addEventListener&&n.addEventListener(t,v.compose(r,v.get("detail")))})},r.fromPromise=function(n){return new r(function(r,t,e){n.then(r,t)})},r.sequentially=function(n,t){var e;return new r(function(r,u,i){e=setInterval(function(){r(v.head(t)),t=v.tail(t),v.empty(t)&&(clearInterval(e),i())},n)})},r.prototype.delay=function(n){var r=this;return v.copy(this,{subscribe:function(t,e,u){r.subscribe(function(r){return setTimeout(function(){return t(r)},n)},e,function(){return setTimeout(function(){return u()},n)})}})},r.prototype.concatMap=function(n){var r=this;return v.copy(this,{subscribe:function(t,e,u){r.subscribe(function(r){n(r).subscribe(t,e,function(){})},e,u)}})},r.prototype.map=function(n){var r=this;return v.copy(this,{subscribe:function(t,e,u){r.subscribe(v.compose(t,n),e,u)}})},r.prototype.filter=function(n){var r=this;return v.copy(this,{subscribe:function(t,e,u){r.subscribe(function(r){n(r)&&t(r)},e,u)}})},r.prototype.fold=function(n,r){var t=this;return v.copy(this,{subscribe:function(e,u,i){t.subscribe(function(t){return n=r(n,t)},u,function(){return e(n),i()})}})},r.prototype.scan=function(n,r){var t=this;return v.copy(this,{subscribe:function(e,u,i){e(n),t.subscribe(function(t){return n=r(n,t),e(n)},u,i)}})},r.prototype.merge=v.variadic(function(n){var r=this;return v.copy(this,{subscribe:function(t,e,u){var i=0,c=function(){++i>n.length&&u()};[r].concat(n).map(function(n){return n.subscribe(t,e,c)})}})}),r.prototype.split=function(n){var r=this,t=[],e=[],u=[],i=!1;return v.range(0,n).map(function(){return v.copy(r,{subscribe:function(n,c,o){t.push(n),e.push(n),u.push(o),i||r.subscribe(function(n){return t.map(v.applyRight(n))},function(){return e.map(v.applyRight())},function(){return u.map(v.applyRight())}),i=!0}})})},r.prototype.zip=v.variadic(function(n){var r=this;return v.copy(this,{subscribe:function(t,e,u){var i=null,c=0,o=function(){++c>n.length&&u()};[r].concat(n).map(function(r,u){return r.subscribe(function(r){return function(r,e){i||(i=v.array(n.length)),i[e]=r,i.length>n.length&&(t(i),i=null)}(r,u)},e,o)})}})});var b=r;return{clock:{interval:function(n){return new b(function(r){return setInterval(function(t){return r(n)},n)})}},mouse:{position:function(n){return new b(function(r){n.addEventListener("mousemove",function(n){return r([n.clientX,n.clientY])})})},button:function(n){return new b(function(r){n.addEventListener("mousedown",function(n){return r(!0)}),n.addEventListener("mouseup",function(n){return r(!1)})})}},Signal:b}}();
